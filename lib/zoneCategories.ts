export interface ZoneCategory {
  id: string
  title: string
  icon: string
  description: string
  type: 'simple' | 'complex'
  zones: ZoneTemplate[]
}

export interface ZoneTemplate {
  id: string
  name: string
  iconId: string
  description: string
  category: string
  type: 'simple' | 'complex'
  isOfficial: boolean
  elements?: ElementTemplate[]
}

export interface ElementTemplate {
  id: string
  name: string
  iconId: string
  description: string
  steps: StepTemplate[]
}

export interface StepTemplate {
  title: string
  description?: string
  type: 'text' | 'image' | 'video' | 'link'
  content?: string
  mediaUrl?: string
  order: number
}

export const ZONE_CATEGORIES: ZoneCategory[] = [
  {
    id: 'services',
    title: '‚ö° Servicios',
    icon: '‚ö°',
    description: 'Informaci√≥n b√°sica y servicios',
    type: 'simple',
    zones: [
      {
        id: 'wifi',
        name: 'WiFi',
        iconId: 'wifi',
        description: 'Informaci√≥n de conexi√≥n WiFi',
        category: 'services',
        type: 'simple',
        isOfficial: true
      },
      {
        id: 'checkin',
        name: 'Check-in',
        iconId: 'door',
        description: 'Proceso de entrada',
        category: 'services',
        type: 'simple',
        isOfficial: true
      },
      {
        id: 'checkout',
        name: 'Check-out',
        iconId: 'exit',
        description: 'Proceso de salida',
        category: 'services',
        type: 'simple',
        isOfficial: true
      },
      {
        id: 'parking',
        name: 'Parking',
        iconId: 'car',
        description: 'Informaci√≥n de aparcamiento',
        category: 'services',
        type: 'simple',
        isOfficial: true
      }
    ]
  },
  {
    id: 'interior',
    title: 'üè† Interior',
    icon: 'üè†',
    description: 'Espacios interiores con elementos',
    type: 'complex',
    zones: [
      {
        id: 'kitchen',
        name: 'Cocina',
        iconId: 'kitchen-main',
        description: 'Electrodom√©sticos y utensilios',
        category: 'interior',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'vitroceramica',
            name: 'Vitrocer√°mica',
            iconId: 'stove',
            description: 'Cocina de inducci√≥n',
            steps: [
              {
                title: 'Pulsa el bot√≥n de encendido',
                description: 'Localiza el bot√≥n principal en la esquina derecha',
                type: 'text',
                content: 'El bot√≥n de encendido est√° ubicado en la parte frontal derecha de la vitrocer√°mica.',
                order: 1
              },
              {
                title: 'Desbloquea la superficie',
                description: 'Toca el s√≠mbolo de candado durante 3 segundos',
                type: 'image',
                mediaUrl: '/images/vitroceramica-unlock.jpg',
                order: 2
              },
              {
                title: 'Selecciona la temperatura',
                description: 'Usa los controles + y - para ajustar',
                type: 'text',
                content: 'Niveles recomendados: 1-3 para calentar, 4-6 para cocinar, 7-9 para hervir.',
                order: 3
              }
            ]
          },
          {
            id: 'microondas',
            name: 'Microondas',
            iconId: 'microwave',
            description: 'Microondas integrado',
            steps: [
              {
                title: 'Abre la puerta',
                description: 'Presiona el bot√≥n de apertura',
                type: 'text',
                content: 'El bot√≥n est√° ubicado en la parte inferior derecha de la puerta.',
                order: 1
              },
              {
                title: 'Configura el tiempo',
                description: 'Usa el dial giratorio para establecer minutos',
                type: 'image',
                mediaUrl: '/images/microondas-dial.jpg',
                order: 2
              },
              {
                title: 'Inicia el calentamiento',
                description: 'Presiona START o cierra la puerta',
                type: 'text',
                content: 'El microondas comenzar√° autom√°ticamente al cerrar la puerta si hay tiempo configurado.',
                order: 3
              }
            ]
          },
          {
            id: 'lavavajillas',
            name: 'Lavavajillas',
            iconId: 'dishwasher',
            description: 'Lavavajillas integrado',
            steps: [
              {
                title: 'Carga los platos',
                description: 'Coloca los platos en las bandejas',
                type: 'text',
                content: 'Platos y vasos en la bandeja superior, ollas y sartenes en la inferior.',
                order: 1
              },
              {
                title: 'A√±ade detergente',
                description: 'Usa las pastillas del caj√≥n superior',
                type: 'image',
                mediaUrl: '/images/lavavajillas-detergente.jpg',
                order: 2
              },
              {
                title: 'Selecciona programa',
                description: 'Programa ECO para uso normal',
                type: 'text',
                content: 'Programa ECO (2h): uso diario. Programa R√°pido (30min): poco sucio.',
                order: 3
              }
            ]
          }
        ]
      },
      {
        id: 'bathroom',
        name: 'Ba√±o',
        iconId: 'bath',
        description: 'Elementos del ba√±o',
        category: 'interior',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'shower',
            name: 'Ducha',
            iconId: 'shower',
            description: 'Sistema de ducha',
            steps: [
              {
                title: 'Abre el grifo',
                description: 'Gira la maneta hacia la izquierda',
                type: 'text',
                content: 'Izquierda para agua caliente, derecha para fr√≠a.',
                order: 1
              },
              {
                title: 'Ajusta la temperatura',
                description: 'Espera 30 segundos para estabilizar',
                type: 'image',
                mediaUrl: '/images/shower-temperature.jpg',
                order: 2
              },
              {
                title: 'Activa la ducha',
                description: 'Levanta la palanca del desviador',
                type: 'text',
                content: 'La palanca est√° en la parte superior del grifo.',
                order: 3
              }
            ]
          }
        ]
      },
      {
        id: 'bedroom',
        name: 'Dormitorio',
        iconId: 'bed',
        description: 'Elementos del dormitorio',
        category: 'interior',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'ac',
            name: 'Aire Acondicionado',
            iconId: 'wind',
            description: 'Control de climatizaci√≥n',
            steps: [
              {
                title: 'Enciende el aire',
                description: 'Usa el mando a distancia',
                type: 'text',
                content: 'El mando est√° en la mesilla de noche.',
                order: 1
              },
              {
                title: 'Selecciona temperatura',
                description: 'Temperatura recomendada: 22-24¬∞C',
                type: 'image',
                mediaUrl: '/images/ac-remote.jpg',
                order: 2
              },
              {
                title: 'Ajusta la velocidad',
                description: 'Modo AUTO para mejor eficiencia',
                type: 'text',
                content: 'AUTO ajusta autom√°ticamente la velocidad seg√∫n la temperatura.',
                order: 3
              }
            ]
          }
        ]
      },
      {
        id: 'living-room',
        name: 'Sal√≥n',
        iconId: 'sofa',
        description: 'Zona de estar y entretenimiento',
        category: 'interior',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'tv',
            name: 'TV Smart',
            iconId: 'tv',
            description: 'Televisi√≥n inteligente',
            steps: [
              {
                title: 'Enciende la TV',
                description: 'Usa el mando o bot√≥n lateral',
                type: 'text',
                content: 'El bot√≥n de encendido est√° en la parte inferior derecha de la TV.',
                order: 1
              },
              {
                title: 'Conecta a WiFi',
                description: 'Ve a Configuraci√≥n > Red',
                type: 'image',
                mediaUrl: '/images/tv-wifi.jpg',
                order: 2
              },
              {
                title: 'Inicia sesi√≥n en apps',
                description: 'Netflix, Prime Video, etc.',
                type: 'text',
                content: 'Puedes usar tus propias cuentas o las disponibles (consulta la informaci√≥n de WiFi).',
                order: 3
              }
            ]
          }
        ]
      }
    ]
  },
  {
    id: 'exterior',
    title: 'üåø Exterior',
    icon: 'üåø',
    description: 'Espacios exteriores y jard√≠n',
    type: 'complex',
    zones: [
      {
        id: 'pool',
        name: 'Piscina',
        iconId: 'pool',
        description: '√Årea de piscina y relajaci√≥n',
        category: 'exterior',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'pool-system',
            name: 'Sistema de Piscina',
            iconId: 'pool',
            description: 'Control de filtrado y limpieza',
            steps: [
              {
                title: 'Verifica el nivel de cloro',
                description: 'Usa las tiras reactivas',
                type: 'text',
                content: 'Nivel √≥ptimo: 1.0-3.0 ppm. Tiras en el armario de piscina.',
                order: 1
              },
              {
                title: 'Activa la depuradora',
                description: 'Panel de control en caseta t√©cnica',
                type: 'image',
                mediaUrl: '/images/pool-control.jpg',
                order: 2
              },
              {
                title: 'Programa filtrado',
                description: '8 horas diarias recomendadas',
                type: 'text',
                content: 'Filtrado autom√°tico de 8:00-12:00 y 20:00-24:00.',
                order: 3
              }
            ]
          }
        ]
      },
      {
        id: 'garden',
        name: 'Jard√≠n',
        iconId: 'tree',
        description: 'Cuidado del jard√≠n',
        category: 'exterior',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'irrigation',
            name: 'Riego',
            iconId: 'water',
            description: 'Sistema de riego autom√°tico',
            steps: [
              {
                title: 'Verifica el programador',
                description: 'Panel junto a la puerta principal',
                type: 'text',
                content: 'Riego autom√°tico: 6:00 y 21:00 durante 15 minutos.',
                order: 1
              },
              {
                title: 'Riego manual',
                description: 'Usa la manguera del garaje',
                type: 'image',
                mediaUrl: '/images/garden-hose.jpg',
                order: 2
              },
              {
                title: 'Cuidado de plantas',
                description: 'Las plantas necesitan agua extra en verano',
                type: 'text',
                content: 'En julio y agosto, riego adicional por las ma√±anas.',
                order: 3
              }
            ]
          }
        ]
      }
    ]
  },
  {
    id: 'restaurant',
    title: 'üçΩÔ∏è Restaurante',
    icon: 'üçΩÔ∏è',
    description: 'Gesti√≥n de restaurante y cocina profesional',
    type: 'complex',
    zones: [
      {
        id: 'professional-kitchen',
        name: 'Cocina Profesional',
        iconId: 'chef',
        description: 'Equipamiento de cocina comercial',
        category: 'restaurant',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'industrial-fryer',
            name: 'Freidora Industrial',
            iconId: 'fryer',
            description: 'Freidora de doble cestillo',
            steps: [
              {
                title: 'Precalienta el aceite',
                description: 'Temperatura √≥ptima: 180¬∞C',
                type: 'text',
                content: 'Tiempo de precalentamiento: 15-20 minutos.',
                order: 1
              },
              {
                title: 'Controla la temperatura',
                description: 'Usa el termostato digital',
                type: 'image',
                mediaUrl: '/images/fryer-control.jpg',
                order: 2
              },
              {
                title: 'Limpia despu√©s del uso',
                description: 'Filtra el aceite diariamente',
                type: 'text',
                content: 'Filtrado al final del servicio, cambio de aceite semanal.',
                order: 3
              }
            ]
          }
        ]
      },
      {
        id: 'bar',
        name: 'Barra',
        iconId: 'cocktail',
        description: 'Gesti√≥n de bebidas y c√≥cteles',
        category: 'restaurant',
        type: 'complex',
        isOfficial: true,
        elements: [
          {
            id: 'coffee-machine',
            name: 'M√°quina de Caf√©',
            iconId: 'coffee',
            description: 'Cafetera profesional',
            steps: [
              {
                title: 'Enciende la m√°quina',
                description: 'Tiempo de calentamiento: 5 minutos',
                type: 'text',
                content: 'Luz verde indica que est√° lista para usar.',
                order: 1
              },
              {
                title: 'Ajusta la molienda',
                description: 'Molido fino para espresso',
                type: 'image',
                mediaUrl: '/images/coffee-grind.jpg',
                order: 2
              },
              {
                title: 'Presiona el caf√©',
                description: 'Presi√≥n uniforme y firme',
                type: 'text',
                content: 'Presi√≥n de 15kg aproximadamente, superficie nivelada.',
                order: 3
              }
            ]
          }
        ]
      }
    ]
  }
]

export function getZonesByCategory(categoryId: string): ZoneTemplate[] {
  const category = ZONE_CATEGORIES.find(cat => cat.id === categoryId)
  return category?.zones || []
}

export function getZoneById(zoneId: string): ZoneTemplate | undefined {
  for (const category of ZONE_CATEGORIES) {
    const zone = category.zones.find(zone => zone.id === zoneId)
    if (zone) return zone
  }
  return undefined
}

export function isSimpleZone(zoneId: string): boolean {
  const zone = getZoneById(zoneId)
  return zone?.type === 'simple'
}

export function isComplexZone(zoneId: string): boolean {
  const zone = getZoneById(zoneId)
  return zone?.type === 'complex'
}